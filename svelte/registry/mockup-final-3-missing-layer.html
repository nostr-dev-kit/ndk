<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Missing Layer</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            background: #fff;
        }
        .container { max-width: 1100px; margin: 0 auto; padding: 0 24px; }

        .hero {
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            border-bottom: 1px solid #e5e5e5;
        }
        .hero h1 {
            font-size: 64px;
            font-weight: 700;
            margin-bottom: 32px;
            letter-spacing: -0.03em;
            line-height: 1.1;
        }
        .hero .subtitle {
            font-size: 24px;
            color: #666;
            max-width: 600px;
            margin: 0 auto 60px;
            line-height: 1.5;
        }

        /* The Stack - Before */
        .stack-before {
            padding: 100px 0;
            background: #fafafa;
        }
        .stack-visual {
            max-width: 500px;
            margin: 0 auto;
        }
        .stack-layer {
            background: #fff;
            border: 2px solid #e5e5e5;
            padding: 32px;
            margin-bottom: 20px;
            border-radius: 8px;
            text-align: center;
        }
        .stack-layer .name {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        .stack-layer .desc {
            font-size: 15px;
            color: #666;
        }
        .stack-gap {
            height: 120px;
            border: 3px dashed #999;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: repeating-linear-gradient(
                45deg,
                #fff,
                #fff 10px,
                #f9f9f9 10px,
                #f9f9f9 20px
            );
        }
        .stack-gap .question {
            font-size: 72px;
            color: #ccc;
        }
        .stack-gap .label {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: #fafafa;
            padding: 4px 16px;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #999;
            font-weight: 600;
        }

        /* The Pain */
        .pain-section {
            padding: 100px 0;
        }
        .pain-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 60px;
        }
        .pain-box {
            background: #fafafa;
            padding: 32px;
            border-radius: 8px;
        }
        .pain-box h3 {
            font-size: 20px;
            margin-bottom: 20px;
            color: #999;
        }
        .pain-code {
            background: #1a1a1a;
            color: #fff;
            padding: 20px;
            border-radius: 4px;
            font-family: 'Monaco', monospace;
            font-size: 12px;
            line-height: 1.8;
            margin-bottom: 16px;
        }
        .pain-code .comment { color: #888; }
        .pain-note {
            font-size: 14px;
            color: #999;
            font-style: italic;
        }

        /* The Revelation */
        .revelation {
            padding: 100px 0;
            background: #000;
            color: #fff;
            text-align: center;
        }
        .revelation h2 {
            font-size: 48px;
            margin-bottom: 40px;
            font-weight: 700;
        }
        .revelation .stack-complete {
            max-width: 500px;
            margin: 0 auto;
        }
        .revelation .stack-layer {
            background: #1a1a1a;
            border-color: #333;
            color: #fff;
        }
        .revelation .stack-layer .desc {
            color: #999;
        }
        .revelation .stack-layer.highlight {
            background: #fff;
            color: #000;
            border-color: #fff;
            box-shadow: 0 0 40px rgba(255, 255, 255, 0.3);
        }
        .revelation .stack-layer.highlight .desc {
            color: #666;
        }

        /* What It Does */
        .what-it-does {
            padding: 100px 0;
        }
        .bridge-visual {
            max-width: 900px;
            margin: 60px auto;
        }
        .bridge-row {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 40px;
            align-items: center;
            margin-bottom: 60px;
        }
        .bridge-side {
            background: #fafafa;
            padding: 32px;
            border-radius: 8px;
            border: 2px solid #e5e5e5;
        }
        .bridge-side h4 {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #999;
            margin-bottom: 16px;
        }
        .bridge-side .content {
            font-family: 'Monaco', monospace;
            font-size: 13px;
            line-height: 1.8;
        }
        .bridge-arrow {
            font-size: 32px;
            color: #000;
            font-weight: 700;
        }

        /* Live Demo */
        .live-demo {
            background: #fafafa;
            padding: 100px 0;
        }
        .demo-container {
            max-width: 700px;
            margin: 0 auto;
        }
        .demo-card {
            background: #fff;
            border: 2px solid #e5e5e5;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 24px;
        }
        .demo-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e5e5e5;
        }
        .demo-avatar {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            position: relative;
        }
        .demo-avatar::after {
            content: '‚úì';
            position: absolute;
            bottom: -4px;
            right: -4px;
            width: 24px;
            height: 24px;
            background: #000;
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            border: 3px solid #fff;
        }
        .demo-user .name {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        .demo-user .handle {
            font-size: 14px;
            color: #666;
        }
        .demo-content {
            font-size: 16px;
            line-height: 1.7;
            margin-bottom: 20px;
        }
        .demo-stats {
            display: flex;
            gap: 32px;
            padding-top: 16px;
            border-top: 1px solid #e5e5e5;
        }
        .demo-stat {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        .demo-stat .icon {
            font-size: 18px;
        }
        .demo-stat .count {
            font-weight: 600;
        }

        .annotation {
            background: #1a1a1a;
            color: #fff;
            padding: 16px 24px;
            border-radius: 6px;
            font-size: 14px;
            margin-top: 12px;
            font-family: 'Monaco', monospace;
        }
        .annotation .highlight {
            color: #50fa7b;
        }

        /* CTA */
        .cta {
            padding: 100px 0;
            text-align: center;
        }
        .cta h2 {
            font-size: 48px;
            margin-bottom: 24px;
            font-weight: 700;
        }
        .cta p {
            font-size: 20px;
            color: #666;
            margin-bottom: 48px;
        }
        .cta .layers {
            max-width: 400px;
            margin: 0 auto;
            text-align: left;
        }
        .cta .layer-item {
            padding: 16px;
            background: #fafafa;
            margin-bottom: 8px;
            border-radius: 6px;
            font-weight: 600;
        }
        .cta .layer-item.complete {
            background: #000;
            color: #fff;
        }
    </style>
</head>
<body>
    <!-- Hero -->
    <section class="hero">
        <div class="container">
            <h1>The Missing<br>Layer</h1>
            <p class="subtitle">
                Between your data and your UI,<br>
                there's supposed to be something.<br>
                You've been building it yourself.
            </p>
        </div>
    </section>

    <!-- The Stack Before -->
    <section class="stack-before">
        <div class="container">
            <h2 style="text-align: center; font-size: 40px; margin-bottom: 60px; color: #333;">
                Your Stack Right Now
            </h2>

            <div class="stack-visual">
                <div class="stack-layer">
                    <div class="name">Your Beautiful UI</div>
                    <div class="desc">The experience you're building</div>
                </div>

                <div class="stack-gap">
                    <div class="label">You fill this gap manually</div>
                    <div class="question">?</div>
                </div>

                <div class="stack-layer">
                    <div class="name">Svelte</div>
                    <div class="desc">Reactive, composable, fast</div>
                </div>

                <div class="stack-layer" style="margin-bottom: 0;">
                    <div class="name">NDK</div>
                    <div class="desc">Events, filters, subscriptions, relays</div>
                </div>
            </div>
        </div>
    </section>

    <!-- The Pain -->
    <section class="pain-section">
        <div class="container">
            <h2 style="text-align: center; font-size: 40px; margin-bottom: 24px;">
                So You Build The Glue
            </h2>
            <p style="text-align: center; font-size: 18px; color: #666; margin-bottom: 60px; max-width: 700px; margin-left: auto; margin-right: auto;">
                Every time. For every component. The same patterns. The same boilerplate.<br>
                Connecting NDK's events to your UI's needs.
            </p>

            <div class="pain-grid">
                <div class="pain-box">
                    <h3>Tracking Follow State</h3>
                    <div class="pain-code">
let isFollowing = $state(false);

$effect(() => {
  // Subscribe to kind:3
  const sub = ndk.subscribe({
    kinds: [3],
    authors: [ndk.activeUser.pubkey]
  });

  sub.on('event', (event) => {
    // Parse p tags
    // Check if target in list
    // Update state
  });

  return () => sub.stop();
});

// Now use it...
                    </div>
                    <div class="pain-note">60 lines of boilerplate. Every. Single. Time.</div>
                </div>

                <div class="pain-box">
                    <h3>Showing Reactions</h3>
                    <div class="pain-code">
let reactions = $state([]);

$effect(() => {
  // Subscribe to kind:7
  const sub = ndk.subscribe({
    kinds: [7],
    '#e': [event.id]
  });

  sub.on('event', (reaction) => {
    // Group by emoji
    // Count by type
    // Track who reacted
    // Update reactive state
  });

  return () => sub.stop();
});

// Then render...
                    </div>
                    <div class="pain-note">And you haven't even handled custom emojis yet.</div>
                </div>

                <div class="pain-box">
                    <h3>Building Thread Trees</h3>
                    <div class="pain-code">
async function buildThread(rootId) {
  // Fetch event
  // Parse e-tags
  // Detect markers (root/reply)
  // Recursively fetch parents
  // Handle missing events
  // Build tree structure
  // Manage depth
  // Handle circular refs

  // 150+ lines later...
}
                    </div>
                    <div class="pain-note">Hope you got the NIP-10 spec right.</div>
                </div>

                <div class="pain-box">
                    <h3>Detecting Event Kinds</h3>
                    <div class="pain-code">
function renderEvent(event) {
  switch(event.kind) {
    case 1:
      return renderNote(event);
    case 30023:
      return renderArticle(event);
    case 9802:
      return renderHighlight(event);
    case 1063:
      return renderImage(event);
    // ...50 more cases
  }
}
                    </div>
                    <div class="pain-note">Your components don't understand Nostr.</div>
                </div>
            </div>
        </div>
    </section>

    <!-- The Revelation -->
    <section class="revelation">
        <div class="container">
            <h2>What If It Just... Existed?</h2>

            <div class="stack-complete">
                <div class="stack-layer">
                    <div class="name">Your Beautiful UI</div>
                    <div class="desc">The experience you're building</div>
                </div>

                <div class="stack-layer highlight">
                    <div class="name">@nostr/svelte</div>
                    <div class="desc">
                        Protocol intelligence. Reactive state.<br>
                        The layer that understands both.
                    </div>
                </div>

                <div class="stack-layer">
                    <div class="name">Svelte</div>
                    <div class="desc">Reactive, composable, fast</div>
                </div>

                <div class="stack-layer" style="margin-bottom: 0;">
                    <div class="name">NDK</div>
                    <div class="desc">Events, filters, subscriptions, relays</div>
                </div>
            </div>
        </div>
    </section>

    <!-- What It Does -->
    <section class="what-it-does">
        <div class="container">
            <h2 style="text-align: center; font-size: 40px; margin-bottom: 24px;">
                The Bridge You Needed
            </h2>
            <p style="text-align: center; font-size: 18px; color: #666; margin-bottom: 60px;">
                It speaks NDK on one side. Svelte components on the other.<br>
                Protocol complexity in. UI primitives out.
            </p>

            <div class="bridge-visual">
                <div class="bridge-row">
                    <div class="bridge-side">
                        <h4>NDK Gives You</h4>
                        <div class="content">
kind: 3<br>
tags: [["p", "abc..."], ["p", "def..."]]<br>
content: ""<br>
pubkey: "xyz..."
                        </div>
                    </div>

                    <div class="bridge-arrow">‚Üí</div>

                    <div class="bridge-side">
                        <h4>You Get</h4>
                        <div class="content" style="font-family: inherit;">
‚úì isFollowing = true<br>
‚úì Auto-updates on changes<br>
‚úì Handles user + hashtags<br>
‚úì Publishes on toggle
                        </div>
                    </div>
                </div>

                <div class="bridge-row">
                    <div class="bridge-side">
                        <h4>NDK Gives You</h4>
                        <div class="content">
kind: 7<br>
tags: [["e", "event123"], ["emoji", ":fire:", "url..."]]<br>
content: "üî•"<br>
                        </div>
                    </div>

                    <div class="bridge-arrow">‚Üí</div>

                    <div class="bridge-side">
                        <h4>You Get</h4>
                        <div class="content" style="font-family: inherit;">
‚úì Grouped by emoji<br>
‚úì Counts auto-updated<br>
‚úì Custom emoji rendered<br>
‚úì Who reacted tracked
                        </div>
                    </div>
                </div>

                <div class="bridge-row">
                    <div class="bridge-side">
                        <h4>NDK Gives You</h4>
                        <div class="content">
tags: [<br>
  ["e", "root", "", "root"],<br>
  ["e", "parent", "", "reply"]<br>
]
                        </div>
                    </div>

                    <div class="bridge-arrow">‚Üí</div>

                    <div class="bridge-side">
                        <h4>You Get</h4>
                        <div class="content" style="font-family: inherit;">
‚úì Thread tree built<br>
‚úì Depth calculated<br>
‚úì Missing events handled<br>
‚úì Renders recursively
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Live Demo -->
    <section class="live-demo">
        <div class="container">
            <h2 style="text-align: center; font-size: 40px; margin-bottom: 60px;">
                Watch It Work
            </h2>

            <div class="demo-container">
                <div class="demo-card">
                    <div class="demo-header">
                        <div class="demo-avatar"></div>
                        <div class="demo-user">
                            <div class="name">Alice Cooper</div>
                            <div class="handle">alice@nostr.com ¬∑ Following</div>
                        </div>
                    </div>
                    <div class="demo-content">
                        Just shipped a major feature using @nostr/svelte. The way it handles thread reconstruction is üî• - saved me literally a week of work.
                    </div>
                    <div class="demo-stats">
                        <div class="demo-stat">
                            <span class="icon">üí¨</span>
                            <span class="count">23</span> replies
                        </div>
                        <div class="demo-stat">
                            <span class="icon">‚ù§Ô∏è</span>
                            <span class="count">156</span> reactions
                        </div>
                        <div class="demo-stat">
                            <span class="icon">‚ö°</span>
                            <span class="count">8.4k</span> sats
                        </div>
                    </div>
                </div>

                <div class="annotation">
Behind this card:<br>
‚Ä¢ <span class="highlight">Following</span> from ndk.$follows (auto-updated)<br>
‚Ä¢ <span class="highlight">Verified checkmark</span> from NIP-05 validation<br>
‚Ä¢ <span class="highlight">Reply count</span> from kind:1 subscription<br>
‚Ä¢ <span class="highlight">Reactions</span> from kind:7, grouped and counted<br>
‚Ä¢ <span class="highlight">Zap total</span> from kind:9735, sats calculated<br>
‚Ä¢ <span class="highlight">Custom emoji</span> parsed from event tags, rendered<br><br>
You wrote: &lt;EventCard event={event} /&gt;<br>
Everything else? Handled.
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta">
        <div class="container">
            <h2>Complete Your Stack</h2>
            <p>The layer you've been building yourself.<br>Already built. Already working.</p>

            <div class="layers">
                <div class="layer-item">Your UI</div>
                <div class="layer-item complete">@nostr/svelte</div>
                <div class="layer-item">Svelte</div>
                <div class="layer-item">NDK</div>
            </div>
        </div>
    </section>
</body>
</html>