{
  "name": "createEmojiPicker",
  "title": "Emoji Picker Builder",
  "oneLiner": "Reactive emoji aggregator from user preferences and specified pubkeys with NIP-30 custom emoji support",
  "description": "The Emoji Picker builder creates a reactive emoji list aggregated from multiple sources in priority order:\n\n1. User's preferred emojis (NIP-51 kind 10030 Emoji Lists) - shown first\n2. Aggregated emojis from specified pubkeys sorted by frequency - shown second  \n3. Default emojis provided in config - shown last\n\nThis allows building context-aware emoji pickers that show the most relevant emojis based on the user's preferences and usage patterns from other users. The builder automatically fetches emoji lists, deduplicates entries, and supports both standard Unicode emojis and custom emojis with shortcodes and image URLs (NIP-30).\n\nPerfect for reaction pickers, comment interfaces, or any UI needing smart emoji suggestions.",
  "importPath": "import { createEmojiPicker } from '$lib/registry/builders/emoji-picker';",
  "command": "npx jsrepo add builders/emoji-picker",
  "dependencies": [
    "@nostr-dev-kit/svelte",
    "@nostr-dev-kit/ndk"
  ],
  "nips": ["30", "51"],
  "parameters": [
    {
      "name": "defaults",
      "type": "EmojiData[]",
      "description": "Default emojis to show at the end if no user preferences",
      "required": false
    },
    {
      "name": "from",
      "type": "string[]",
      "description": "Array of pubkeys to aggregate emojis from (sorted by frequency)",
      "required": false
    }
  ],
  "returns": [
    {
      "name": "emojis",
      "type": "EmojiData[]",
      "description": "Aggregated and deduplicated emoji list with emoji character, optional shortcode, and optional URL for custom emojis"
    }
  ],
  "usageExample": "const emojiPicker = createEmojiPicker(() => ({\n  defaults: [{ emoji: 'â¤ï¸' }, { emoji: 'ğŸ‘' }, { emoji: 'ğŸ”¥' }],\n  from: ['pubkey1', 'pubkey2']  // Aggregate from these users\n}), ndk);\n\n// Get aggregated emoji list\nemojiPicker.emojis  // EmojiData[] - { emoji, shortcode?, url? }\n\n// Render emojis (handles both standard and custom)\n{#each emojiPicker.emojis as emoji}\n  {#if emoji.url}\n    <img src={emoji.url} alt={emoji.shortcode} />\n  {:else}\n    {emoji.emoji}\n  {/if}\n{/each}"
}
