<script lang="ts">
	import { SessionSwitcher } from '$lib/registry/components/session-switcher';
	import { ndk } from '$lib/ndk.svelte';
</script>

<SessionSwitcher.Root {ndk}>
	<SessionSwitcher.Trigger variant="full" />
	<SessionSwitcher.Content>
		<SessionSwitcher.Section label="Current User">
			{#if ndk.$currentPubkey}
				<SessionSwitcher.Item pubkey={ndk.$currentPubkey} active={true} />
			{/if}
		</SessionSwitcher.Section>

		<SessionSwitcher.Separator />

		<SessionSwitcher.Section>
			<SessionSwitcher.Action onclick={() => console.log('Custom action')} variant="primary">
				{#snippet icon()}
					<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
						<path stroke-linecap="round" stroke-linejoin="round" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
					</svg>
				{/snippet}
				Custom Action
			</SessionSwitcher.Action>
		</SessionSwitcher.Section>
	</SessionSwitcher.Content>
</SessionSwitcher.Root>
