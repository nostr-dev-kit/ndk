<script>
	import * as NotificationItem from '$lib/registry/ui/notification';

	let { ndk, notifications } = $props();
</script>

{#snippet actionIcon({ icon }: { icon: any })}
	<icon size={20} class="text-primary" />
{/snippet}

{#snippet actionText({ type }: { type: string })}
	<span class="action-text">{type} your post</span>
{/snippet}

<div class="custom-demo">
	{#each notifications as notification (notification.targetEvent.id)}
		<NotificationItem.Root {ndk} {notification}>
			<!-- Custom Twitter-style layout -->
			<div class="twitter-style">
				<div class="action-icon">
					<NotificationItem.Action snippet={actionIcon} />
				</div>

				<div class="notification-body">
					<div class="actors-line">
						<NotificationItem.Actors max={3} size={24} spacing="tight" />
						<NotificationItem.Action snippet={actionText} />
						<NotificationItem.Timestamp />
					</div>

					<div class="content-preview">
						<NotificationItem.Content />
					</div>
				</div>
			</div>
		</NotificationItem.Root>
	{/each}
</div>
