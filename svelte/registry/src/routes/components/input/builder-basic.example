<script lang="ts">
  import { createUserInput } from '$lib/registry/ui/user-input';

  const userInput = createUserInput({ debounceMs: 300 }, ndk);
</script>

<input
  type="text"
  bind:value={userInput.query}
  placeholder="Search users..."
  class="w-full p-2 border rounded"
/>

{#each userInput.results as result}
  <button onclick={() => userInput.select(result)} class="block w-full text-left p-2 hover:bg-muted">
    {result.user.profile?.name || result.user.npub}
  </button>
{/each}
