<script lang="ts">
  import { createReplyAction } from '@nostr-dev-kit/svelte';
</script>

<!-- Create reply action -->
<script>
  const replyAction = createReplyAction(() => ({ event }), ndk);

  function handleClick() {
    // Handle reply in your application
    console.log('Reply button clicked!', {
      event,
      currentCount: replyAction.count,
      hasReplied: replyAction.hasReplied
    });
  }
</script>

<button onclick={handleClick}>
  <svg class="w-4 h-4 {replyAction.hasReplied ? 'text-primary' : 'text-muted-foreground'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"></path>
  </svg>
  <span>{replyAction.count}</span>
  {#if replyAction.hasReplied}
    <span class="text-xs text-primary">âœ“</span>
  {/if}
</button>
